<!doctype html>ï»¿
<html lang="zh-CN">ï»¿
<head>ï»¿
  <meta charset="utf-8" />ï»¿
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">ï»¿
  <title>ä½ å¥½å•Šæˆ‘æ˜¯ç”·åŒ</title>ï»¿
  <style>ï»¿
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ffb86b;--muted:#94a3b8;--win:#34d399;--lose:#fb7185;font-family:Inter,system-ui,Arial}ï»¿
    html,body{height:100%;margin:0;padding:12px;background:linear-gradient(180deg,var(--bg),#071025);color:#e6eef8;display:flex;align-items:center;justify-content:center}ï»¿
    .card{width:100%;max-width:760px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.03);position:relative}ï»¿
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}ï»¿
    h1{font-size:18px;margin:0}ï»¿
    .game-area{display:flex;flex-direction:column;gap:12px}ï»¿
    .board{padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}ï»¿
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}ï»¿
    .cell{background:#0c1220;border-radius:8px;padding:6px;display:flex;align-items:center;justify-content:center;min-height:100px;cursor:pointer;pointer-events:auto !important;position:relative;z-index:10}ï»¿
    .cell img{max-width:100%;max-height:100%;object-fit:contain;border-radius:6px}ï»¿
    .sidebar{display:flex;flex-direction:row;gap:10px;width:100%}ï»¿
    .stat{flex:1;background:rgba(255,255,255,0.02);padding:8px;border-radius:8px;text-align:center}ï»¿
    .stat-label{font-size:12px;color:var(--muted)}ï»¿
    .stat-value{font-size:18px;font-weight:700}ï»¿
    .controls{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}ï»¿
    .btn{background:var(--accent);border:none;padding:10px 16px;border-radius:8px;font-weight:700;cursor:pointer;pointer-events:auto !important;position:relative;z-index:10;font-size:14px}ï»¿
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent)}ï»¿
    .btn#btnEndGame{display:none}/* åˆå§‹éšè—ç»“æŸæ¸¸æˆæŒ‰é’® */ï»¿
    .btn#btnAchievementWall{position:absolute;top:14px;right:14px;padding:6px 10px;font-size:12px;background:transparent;border:1px solid rgba(255,184,107,0.3);color:var(--accent);z-index:20}ï»¿
    .btn#btnResetAchieve{position:absolute;bottom:14px;left:14px;padding:6px 10px;font-size:12px;background:var(--lose);color:white;z-index:20}ï»¿
    .message{padding:8px;border-radius:8px;text-align:center;margin:8px 0;display:none;font-size:14px}ï»¿
    .message.win{color:var(--win);display:block}ï»¿
    .message.lose{color:var(--lose);display:block}ï»¿
    .message.limit{color:var(--accent);font-size:16px;font-weight:700;animation:pulse 0.5s ease-in-out infinite alternate;background:rgba(255,184,107,0.1);border:1px solid rgba(255,184,107,0.3);display:block}ï»¿
    @keyframes pulse{from{transform:scale(1);opacity:0.9}to{transform:scale(1.05);opacity:1}}ï»¿
    /* é€šç”¨å¼¹çª—æ ·å¼ï¼ˆæ‰‹æœºç«¯é€‚é…ï¼‰ */ï»¿
    .popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--card);border-radius:12px;padding:24px;border:2px solid var(--accent);z-index:1000;animation:popup 0.3s ease-in-out;display:none;width:85%;max-width:350px;text-align:center}ï»¿
    .popup.show{display:block}ï»¿
    @keyframes popup{0%{opacity:0;transform:translate(-50%,-60%) scale(0.9)}100%{opacity:1;transform:translate(-50%,-50%) scale(1)}}ï»¿
    /* åˆ†æ•°é‡Œç¨‹ç¢‘å¼¹çª—ï¼ˆ50åˆ†/100åˆ†ï¼‰ */ï»¿
    .score-popup .popup-icon{font-size:32px;margin-bottom:12px;color:var(--accent)}ï»¿
    .score-popup h3{font-size:20px;margin:0 0 8px;color:var(--accent)}ï»¿
    .score-popup p{font-size:14px;margin:0 0 16px;color:var(--muted)}ï»¿
    /* æˆå°±è§£é”å¼¹çª— */ï»¿
    .achievement-popup{padding:20px}ï»¿
    .achievement-popup .popup-header{display:flex;align-items:center;gap:12px;margin-bottom:12px}ï»¿
    .achievement-popup .achievement-icon{width:48px;height:48px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;font-size:24px;color:#071025}ï»¿
    .achievement-popup .achievement-info{text-align:left}ï»¿
    .achievement-popup h3{font-size:18px;margin:0 0 4px;color:var(--win)}ï»¿
    .achievement-popup p{font-size:12px;margin:0;color:var(--muted)}ï»¿
    .achievement-popup .popup-body{font-size:14px;margin-bottom:16px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.01)}ï»¿
    /* ç»“æŸæ¸¸æˆç¡®è®¤å¼¹çª— */ï»¿
    .confirm-popup h3{font-size:18px;margin:0 0 16px;color:var(--accent)}ï»¿
    .confirm-popup .popup-buttons{display:flex;gap:10px}ï»¿
    .confirm-popup .btn{flex:1;padding:10px}ï»¿
    /* ç»“æŸæ¸¸æˆç»Ÿè®¡å¼¹çª— */ï»¿
    .stats-popup .stats-list{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}ï»¿
    .stats-popup .stat-item{display:flex;justify-content:space-between;padding:8px;background:rgba(255,255,255,0.01);border-radius:6px}ï»¿
    .stats-popup .stat-label{font-size:14px;color:var(--muted)}ï»¿
    .stats-popup .stat-value{font-size:14px;font-weight:700;color:var(--accent)}ï»¿
    /* é‡ç½®æˆå°±ç¡®è®¤å¼¹çª— */ï»¿
    .reset-achieve-popup .popup-text{font-size:14px;margin:0 0 16px;color:var(--muted);line-height:1.5}ï»¿
    /* é®ç½©å±‚ */ï»¿
    .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:999;display:none}ï»¿
    .overlay.show{display:block}ï»¿
    /* æˆå°±å¢™æ ·å¼ï¼ˆæ‰‹æœºç«¯é€‚é…+éšè—æˆå°±æ ·å¼ï¼‰ */ï»¿
    .achievement-wall{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);z-index:2000;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px;overflow-y:auto}ï»¿
    .achievement-wall.hidden{display:none}ï»¿
    .achievement-wall-header{display:flex;align-items:center;justify-content:space-between;width:100%;max-width:760px;margin-bottom:20px}ï»¿
    .achievement-wall-title{font-size:22px;color:var(--accent);margin:0}ï»¿
    .achievement-list{width:100%;max-width:760px;display:flex;flex-direction:column;gap:12px}ï»¿
    .achievement-item{background:var(--card);border-radius:10px;padding:16px;border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;gap:16px}ï»¿
    .achievement-item.locked{opacity:0.5}ï»¿
    /* éšè—æˆå°±æ ·å¼ï¼ˆè§£é”åæ˜¾ç¤ºç‰¹æ®Šæ ‡è®°ï¼‰ */ï»¿
    .achievement-item.hidden-achievement{border:1px solid rgba(255,184,107,0.5);background:linear-gradient(180deg, rgba(255,184,107,0.05), rgba(255,184,107,0.02))}ï»¿
    .achievement-item.hidden-achievement .achievement-item-icon{background:var(--accent);color:#071025;box-shadow:0 0 15px rgba(255,184,107,0.5)}ï»¿
    .achievement-item.hidden-achievement .achievement-item-name{color:var(--accent);font-weight:700}ï»¿
    .achievement-item-icon{width:44px;height:44px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;font-size:20px;color:#071025}ï»¿
    .achievement-item.locked .achievement-item-icon{background:var(--muted);color:var(--card)}ï»¿
    .achievement-item-info{flex:1}ï»¿
    .achievement-item-name{font-size:16px;margin:0 0 4px;color:var(--win)}ï»¿
    .achievement-item-desc{font-size:13px;margin:0 0 6px;color:var(--muted)}ï»¿
    /* éšè—è·å¾—æ–¹æ³• */ï»¿
    .achievement-item-method{display:none}ï»¿
    .achievement-wall-close{position:absolute;top:20px;right:20px;background:var(--lose);color:white;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;z-index:2001}ï»¿
    /* å¹¿å‘ŠåŒºåŸŸï¼ˆæ–°å¢2ä¸ªå¹¿å‘Šå®¹å™¨ï¼Œé€‚é…æ‰‹æœºç«¯ï¼‰ */ï»¿
    footer.ad{margin-top:12px;padding:12px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;position:relative}ï»¿
    footer.ad.new-ad{margin-top:8px;background:rgba(255,255,255,0.01);border:1px solid rgba(255,184,107,0.2)}/* æ–°å¹¿å‘Šæ ·å¼ */ï»¿
    .ad-close-btn{position:absolute;top:6px;right:6px;background:var(--lose);color:white;border:none;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;z-index:10;pointer-events:auto !important}ï»¿
    .cta{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:10px;background:var(--accent);color:#071025;font-weight:700;text-decoration:none;pointer-events:auto !important;font-size:14px}ï»¿
    .flash{animation:flash 1s linear infinite}ï»¿
    @keyframes flash{0%,100%{opacity:1}50%{opacity:0.25}}ï»¿
    /* å¹¿å‘Šå¼¹çª—ï¼ˆæ˜¾ç¤ºéšæœºå¹¿å‘Šå›¾ï¼Œé€‚é…æ‰‹æœºç«¯ï¼‰ */ï»¿
    .ad-img-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:1500;align-items:center;justify-content:center;padding:20px}ï»¿
    .ad-img-modal.show{display:flex}ï»¿
    .ad-img-content{max-width:90%;max-height:80%;border-radius:10px;overflow:hidden}ï»¿
    .ad-img-content img{width:100%;height:auto;object-fit:contain}ï»¿
    .ad-img-close{position:absolute;top:20px;right:20px;background:var(--lose);color:white;border:none;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;z-index:1501}ï»¿
    /* æ¨¡æ€æ¡†æ ·å¼ï¼ˆæ‰‹æœºç«¯é€‚é…ï¼‰ */ï»¿
    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;align-items:center;justify-content:center}ï»¿
    .modal.show{display:flex}ï»¿
    .modal-content{background:var(--card);padding:24px;border-radius:12px;width:85%;max-width:400px;border:1px solid rgba(255,255,255,0.05)}ï»¿
    .modal-title{font-size:18px;margin:0 0 16px;color:var(--accent);text-align:center}ï»¿
    .modal-buttons{display:flex;flex-direction:column;gap:10px}ï»¿
    .modal-btn{padding:12px 16px;border-radius:8px;border:none;font-weight:700;cursor:pointer;text-align:center;pointer-events:auto !important;position:relative;z-index:1001;font-size:14px}ï»¿
    .modal-btn.option1{background:var(--win);color:#071025}ï»¿
    .modal-btn.option2{background:var(--lose);color:white}ï»¿
    .modal-btn.option3{background:var(--accent);color:#071025}ï»¿
  </style>ï»¿
</head>ï»¿
<body>ï»¿
  <div class="card">ï»¿
    <header>ï»¿
      <h1>ä½ å¥½å•Šæˆ‘æ˜¯ç”·åŒ</h1>ï»¿
      <div style="font-size:12px;color:var(--muted)">ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"æŒ‘æˆ˜</div>ï»¿
    </header>ï»¿
    <div class="game-area">ï»¿
      <div class="board">ï»¿
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">ï»¿
          <div style="font-size:13px;color:var(--muted)">å…³å¡ï¼š<span id="round">â€”</span></div>ï»¿
          <div id="questionText" style="font-size:13px;color:var(--muted)">é¢˜ç›®å°†éšæœºå‡ºç°</div>ï»¿
        </div>ï»¿
        <div id="grid" class="grid"></div>ï»¿
        <div id="message" class="message"></div>ï»¿
        <div class="controls">ï»¿
          <button id="btnStart" class="btn">å¼€å§‹â™‚æ¸¸æˆ</button>ï»¿
          <button id="btnRestart" class="btn secondary">é‡ç½®</button>ï»¿
          <button id="btnEndGame" class="btn secondary">ç»“æŸæ¸¸æˆ</button>ï»¿
        </div>ï»¿
      </div>ï»¿
      <div class="sidebar">ï»¿
        <div class="stat">ï»¿
          <div class="stat-label">å€’è®¡æ—¶</div>ï»¿
          <div id="timer" class="stat-value">--</div>ï»¿
        </div>ï»¿
        <div class="stat">ï»¿
          <div class="stat-label">åˆ†æ•°</div>ï»¿
          <div id="score" class="stat-value">0</div>ï»¿
        </div>ï»¿
      </div>ï»¿
    </div>ï»¿
    <!-- åŸæœ‰å¹¿å‘Šï¼ˆå¹¿å‘Šå°é¢+å¹¿å‘Šç´ æï¼‰ -->ï»¿
    <footer class="ad" id="originalAd">ï»¿
      <button class="ad-close-btn" id="originalAdCloseBtn">Ã—</button>ï»¿
      <div style="font-size:13px;color:var(--muted)">å¹¿å‘ŠåŒºï¼ˆç‚¹å‡»çœ‹éšæœºå›¾ï¼‰</div>ï»¿
      <a class="cta flash" id="originalAdCta">ç‚¹å‡»â™‚è¿™é‡Œ</a>ï»¿
      <!-- å¹¿å‘Šå°é¢åŠ¨å›¾ï¼ˆéšè—ï¼Œç‚¹å‡»åä¸æ˜¾ç¤ºï¼Œä»…ä½œç´ æï¼‰ -->ï»¿
      <img src="å¹¿å‘Šå°é¢.gif" alt="å¹¿å‘Šå°é¢" style="display:none" id="adCoverImg">ï»¿
    </footer>ï»¿
    <!-- æ–°å¹¿å‘Šï¼ˆæ–‡å­—å°é¢+å‰©ä½™ç´ æï¼‰ -->ï»¿
    <footer class="ad new-ad" id="newAd">ï»¿
      <button class="ad-close-btn" id="newAdCloseBtn">Ã—</button>ï»¿
      <div style="font-size:13px;color:var(--accent);font-weight:700">â™‚ç«çƒ­æ¢è£…â™‚  â™‚åœ¨çº¿æ¼«ç”»â™‚</div>ï»¿
      <a class="cta" id="newAdCta">ç‚¹å‡»æŸ¥çœ‹</a>ï»¿
    </footer>ï»¿
    <!-- æˆå°±å¢™å…¥å£ï¼ˆä»…åˆå§‹ç•Œé¢æ˜¾ç¤ºï¼‰ -->ï»¿
    <button id="btnAchievementWall" class="btn">æˆå°±å¢™</button>ï»¿
    <button id="btnResetAchieve" class="btn">æˆâ™‚å°±é‡å¼€</button>ï»¿
  </div>ï»¿
  <!-- å¼¹çª—ç›¸å…³ -->ï»¿
  <div class="overlay" id="overlay"></div>ï»¿
  <!-- åˆ†æ•°é‡Œç¨‹ç¢‘å¼¹çª—ï¼ˆ50åˆ†/100åˆ†ï¼‰ -->ï»¿
  <div class="popup score-popup" id="scorePopup">ï»¿
    <div class="popup-icon" id="scorePopupIcon">ğŸ‰</div>ï»¿
    <h3 id="scorePopupTitle">å¤ªæ£’äº†ï¼</h3>ï»¿
    <p id="scorePopupDesc">ä½ å·²ç»è·å¾—äº†50åˆ†ï¼</p>ï»¿
    <button class="btn" id="scorePopupBtn">ç»§ç»­æŒ‘æˆ˜</button>ï»¿
  </div>ï»¿
  <!-- æˆå°±è§£é”å¼¹çª— -->ï»¿
  <div class="popup achievement-popup" id="achievementPopup">ï»¿
    <div class="popup-header">ï»¿
      <div class="achievement-icon">ğŸ†</div>ï»¿
      <div class="achievement-info">ï»¿
        <h3 id="achievementName">æˆå°±è§£é”ï¼</h3>ï»¿
        <p id="achievementDesc">å®Œæˆäº†æŸä¸ªæˆå°±</p>ï»¿
      </div>ï»¿
    </div>ï»¿
    <div class="popup-body" id="achievementMsg">ï»¿
      æ­å–œä½ è§£é”äº†æ–°æˆå°±ï¼ï»¿
    </div>ï»¿
    <button class="btn" id="achievementPopupBtn">å¤ªæ£’äº†</button>ï»¿
  </div>ï»¿
  <!-- ç»“æŸæ¸¸æˆç¡®è®¤å¼¹çª— -->ï»¿
  <div class="popup confirm-popup" id="endGameConfirmPopup">ï»¿
    <h3>æ˜¯å¦ç»“æŸæ¸¸æˆï¼Ÿ</h3>ï»¿
    <div class="popup-buttons">ï»¿
      <button class="btn" id="btnConfirmEnd">æ˜¯</button>ï»¿
      <button class="btn secondary" id="btnCancelEnd">å¦</button>ï»¿
    </div>ï»¿
  </div>ï»¿
  <!-- ç»“æŸæ¸¸æˆç»Ÿè®¡å¼¹çª— -->ï»¿
  <div class="popup stats-popup" id="endGameStatsPopup">ï»¿
    <h3>æ¸¸æˆç»Ÿè®¡</h3>ï»¿
    <div class="stats-list">ï»¿
      <div class="stat-item">ï»¿
        <span class="stat-label">æœ€ç»ˆåˆ†æ•°ï¼š</span>ï»¿
        <span class="stat-value" id="statsScore">0</span>ï»¿
      </div>ï»¿
      <div class="stat-item">ï»¿
        <span class="stat-label">æ€»å…³å¡æ•°ï¼š</span>ï»¿
        <span class="stat-value" id="statsRound">0</span>ï»¿
      </div>ï»¿
      <div class="stat-item">ï»¿
        <span class="stat-label">æ­£ç¡®æ¬¡æ•°ï¼š</span>ï»¿
        <span class="stat-value" id="statsCorrect">0</span>ï»¿
      </div>ï»¿
      <div class="stat-item">ï»¿
        <span class="stat-label">é”™è¯¯æ¬¡æ•°ï¼š</span>ï»¿
        <span class="stat-value" id="statsWrong">0</span>ï»¿
      </div>ï»¿
    </div>ï»¿
    <button class="btn" id="statsPopupBtn">è¿”å›ä¸»é¡µ</button>ï»¿
  </div>ï»¿
  <!-- é‡ç½®æˆå°±ç¡®è®¤å¼¹çª— -->ï»¿
  <div class="popup confirm-popup reset-achieve-popup" id="resetAchieveConfirmPopup">ï»¿
    <h3>æˆâ™‚å°±é‡å¼€</h3>ï»¿
    <p class="popup-text">hwjæ¸©é¦¨æç¤ºï¼šæ˜¯å¦è¦é‡ç½®æˆå°±ï¼ˆåæ­£æˆ‘ä¹Ÿæ²¡æ·»åŠ æ›´å¤šï¼‰</p>ï»¿
    <div class="popup-buttons">ï»¿
      <button class="btn" id="btnConfirmReset">æ˜¯</button>ï»¿
      <button class="btn secondary" id="btnYeahReset">yeahâ™‚</button>ï»¿
    </div>ï»¿
  </div>ï»¿
  <!-- æˆå°±å¢™é¡µé¢ -->ï»¿
  <div class="achievement-wall hidden" id="achievementWall">ï»¿
    <button class="achievement-wall-close" id="achievementWallClose">Ã—</button>ï»¿
    <div class="achievement-wall-header">ï»¿
      <h2 class="achievement-wall-title">æˆå°±å¢™</h2>ï»¿
    </div>ï»¿
    <div class="achievement-list" id="achievementList">ï»¿
      <!-- æˆå°±é¡¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->ï»¿
    </div>ï»¿
  </div>ï»¿
  <!-- å¹¿å‘Šå…³é—­ç¡®è®¤æ¨¡æ€æ¡† -->ï»¿
  <div id="adCloseModal" class="modal">ï»¿
    <div class="modal-content">ï»¿
      <h3 class="modal-title">ä¸è¿›æ¥çœ‹çœ‹å—ï¼Ÿ</h3>ï»¿
      <div class="modal-buttons">ï»¿
        <button id="btnAdOption1" class="modal-btn option1">å¥½å§ï¼Œæ¥äº†â¤ï¸</button>ï»¿
        <button id="btnAdOption2" class="modal-btn option2">å‘ƒâ†“ï¼Œæˆ‘æ˜¯ç›´ç”·ã€‚</button>ï»¿
        <button id="btnAdOption3" class="modal-btn option3">ä½ ä¸çœ‹çœ‹æˆ‘å—ï¼Ÿ</button>ï»¿
      </div>ï»¿
    </div>ï»¿
  </div>ï»¿
  <!-- å¹¿å‘Šå›¾ç‰‡å¼¹çª—ï¼ˆæ˜¾ç¤ºéšæœºå¹¿å‘Šå›¾ï¼‰ -->ï»¿
  <div class="ad-img-modal" id="adImgModal">ï»¿
    <button class="ad-img-close" id="adImgClose">Ã—</button>ï»¿
    <div class="ad-img-content" id="adImgContent">
      <!-- éšæœºå¹¿å‘Šå›¾å°†é€šè¿‡JSæ’å…¥ -->
    </div>ï»¿
  </div>ï»¿
<script>ï»¿
    window.onload = function() {ï»¿
      // ========== æ–°å¢ï¼šç­”é¢˜ç´ æä¸å¹¿å‘Šç´ æé…ç½® ==========
      const NEW_CONFIG = {
        // æ–°å¢ç­”é¢˜å›¾ç‰‡ï¼ˆé…’é¦†ä¼™è®¡ã€å®‹ã€æœå—ã€Adamsï¼‰
        newAnswerImages: {
          'é…’é¦†ä¼™è®¡': 'é…’é¦†ä¼™è®¡.png',
          'å®‹': 'å®‹.jpg',
          'æœå—': 'æœå—.jpg',
          'Adams': 'Adams.jpg'
        },
        // å¹¿å‘Šç´ æé…ç½®
        adMaterials: {
          // åŸæœ‰å¹¿å‘Šï¼šå¹¿å‘Šå°é¢+å¸¦"å¹¿å‘Š"å­—çš„ç´ æï¼ˆæ¯æ¬¡éšæœº1å¼ ï¼‰
          originalAdImgs: [
            'å¹¿å‘Š.png',
            'å¹¿å‘Š2.jpg',
            'å¹¿å‘Š3.jpg'
          ],
          // æ–°å¹¿å‘Šï¼šå‰©ä½™æœªæåŠç´ æï¼ˆæ¯æ¬¡éšæœº1å¼ ï¼‰
          newAdImgs: [
            'æ©™å¸•.jpg',
            'æ­£ç»è¡£æœ.jpg',
            'æ½®ç”·å¸•.jpg',
            'æ½®ç”·å¸•çš„åèƒŒ.jpg'
          ],
          adCover: 'å¹¿å‘Šå°é¢.gif' // å¹¿å‘Šå°é¢ï¼ˆä»…ä½œç´ æï¼‰
        },
        // æ–°å¢æˆå°±ç»Ÿè®¡å˜é‡
        achievementStats: {
          consecutiveNotAdams: 0, // è¿ç»­ä¸é€‰Adamsæ¬¡æ•°
          firstChooseChaonan: false, // æ˜¯å¦é¦–æ¬¡é€‰æœå—
          hasGotPBrother: false // æ˜¯å¦è·å¾—"P...På¼Ÿï¼Ÿ"æˆå°±
        }
      };
      // ========== åŸæœ‰é…ç½®ä¿ç•™ï¼Œè¡¥å……æ–°ç´ æ ==========
      const CONFIG = {ï»¿
        // åˆå¹¶åŸæœ‰å›¾ç‰‡ä¸æ–°å¢ç­”é¢˜å›¾ç‰‡
        images: [
          ...Object.values(NEW_CONFIG.newAnswerImages),
          "img1.jpg", "img2.jpg", "img3.jpg", "img4.jpg"
        ],ï»¿
        adLink: "https://ä½ çš„æ¨å¹¿é“¾æ¥.com",ï»¿
        timeLimit: 8,ï»¿
        maxScore: 100,ï»¿
        pointsPerCorrect: 5,ï»¿
      };ï»¿
      // ========== æ–°å¢ï¼š4ä¸ªç­”é¢˜é¢˜ç›®é…ç½® ==========
      const NEW_QUESTIONS = [
        {
          id: 5,
          text: 'è°æ²¡æœ‰å¯¹è±¡ï¼Ÿ',
          type: 'single',
          correctVal: 'é…’é¦†ä¼™è®¡', // æ­£ç¡®ç­”æ¡ˆï¼ˆç´ æåï¼‰
          correctText: 'å›ç­”æ­£ç¡®ï¼',
          wrongText: 'å›ç­”é”™è¯¯ï¼',
          achievement: 'pBrother' // å…³è”"P...På¼Ÿï¼Ÿ"æˆå°±
        },
        {
          id: 6,
          text: 'é€‰å‡ºçœŸçš„ä¸æ˜¯ç›´ç”·çš„äººã€‚',
          type: 'single',
          correctVal: 'å®‹',
          correctText: 'å®‹é…±å®‹é…±æˆ‘ä»¬å–œæ¬¢ä½ â¤ï¸',
          wrongText: 'å¥½åƒä¹Ÿæ²¡é”™...',
          achievement: 'deepWaterCity' // å…³è”"æ·±æ°´åŸæ•…äº‹"æˆå°±
        },
        {
          id: 7,
          text: 'å¤§å¯Œå“¥æ˜¯å“ªä½ï¼Ÿ',
          type: 'single',
          correctVal: 'æœå—',
          correctText: 'æœå“¥è¯·è¡¨æ¼”ä¸€ä¸‹é‚£ä¸ªï¼ğŸ’°ğŸ’°ğŸ’°',
          wrongText: 'ä¸ï¼Œè¿™ä½åº”è¯¥ä¸ä¼šç»™ä½ é’±ã€‚',
          achievement: 'goldCoin' // å…³è”"çˆ†ç‚¹é‡‘å¸ï¼Ÿ"æˆå°±
        },
        {
          id: 8,
          text: 'ä½ å¥½ã€‚è¯·å¬·â€”â€”',
          type: 'single',
          correctVal: 'Adams',
          correctText: 'â€œæˆ‘å¯æ˜¯ç›´ç”·å‘€ï¼â€',
          wrongText: 'è¯¶ï¼Ÿé‚£ä¹Ÿä¸é”™ã€‚'
        }
      ];
      // åˆå¹¶åŸæœ‰é¢˜ç›®ä¸æ–°é¢˜ç›®
      const QUESTIONS = [ï»¿
        {ï»¿
          id:1,ï»¿
          text: 'æ‰¾å‡ºé‡Œé¢æ‰€æœ‰ç”·åŒ',ï»¿
          type:'special',ï»¿
          onSelect: () => ({ ok: false, msg: 'å“ˆå“ˆéª—ä½ çš„ï¼Œæˆ‘åªè®¾ç½®äº†å•é€‰' })ï»¿
        },ï»¿
        {ï»¿
          id:2,ï»¿
          text: 'æ‰¾å‡ºçœŸæ­£çš„å¨å¸ˆ',ï»¿
          type:'single',ï»¿
          correctIdx: 0,ï»¿
          onCorrect: 'ä½ çœ‹èµ·æ¥å¾ˆå¥½åƒ',ï»¿
          onWrong: 'Cazzoï¼Œä½ ä¸è®¤è¯†æˆ‘å—',ï»¿
          achievement: 'chef' // å…³è”æˆå°±ï¼šå¨å¸ˆï»¿
        },ï»¿
        {ï»¿
          id:3,ï»¿
          text: 'æ‰¾å‡ºå¤±å»äº†çƒæ£çš„å¿ƒç†æ²»ç–—å¸ˆ',ï»¿
          type:'single',ï»¿
          correctIdx: 3,ï»¿
          onCorrect: 'éš”å£ä»–ç”·äººåœ¨åŒæŒing',ï»¿
          onWrong: 'å†é€‰é”™å°±è¿‡æ¥å¿ƒç†æ²»ç–—',ï»¿
          achievement: 'therapist' // å…³è”æˆå°±ï¼šå¿ƒç†æ²»ç–—å¸ˆï»¿
        },ï»¿
        {ï»¿
          id:4,ï»¿
          text: 'æ‰¾å‡ºå›¾ä¸­çš„ç›´ç”·',ï»¿
          type:'multi-text',ï»¿
          onSelect: (idx) => {ï»¿
            if(idx === 0 || idx === 1) {ï»¿
              unlockAchievement('straight'); // è§£é”æˆå°±ï¼šç›´ç”·ï»¿
              return { ok: true, msg: 'ğŸ’æˆ‘ä»¬æ˜¯çœŸæ­£çš„â™‚ç›´ç”·â™‚å‘€' };ï»¿
            } else {ï»¿
              unlockAchievement('gayPride'); // è§£é”æˆå°±ï¼šéª„å‚²ä¹‹GAYï»¿
              return { ok: true, msg: 'ğŸŒˆğŸŒˆğŸŒˆéª„å‚²ä¹‹â™‚GAYğŸŒˆğŸŒˆğŸŒˆ' };ï»¿
            }ï»¿
          }ï»¿
        },
        ...NEW_QUESTIONS // åŠ å…¥æ–°é¢˜ç›®
      ];ï»¿
      // ========== æ–°å¢ï¼š8ä¸ªæˆå°±é…ç½® ==========
      const NEW_ACHIEVEMENTS = {
        pBrother: {
          icon: 'ğŸ¤”',
          name: 'P...På¼Ÿï¼Ÿ',
          desc: 'åœ¨"è°æ²¡æœ‰å¯¹è±¡ï¼Ÿ"é—®é¢˜ä¸­é€‰æ‹©é…’é¦†ä¼™è®¡',
          method: 'å›ç­”"è°æ²¡æœ‰å¯¹è±¡ï¼Ÿ"é—®é¢˜å¹¶é€‰æ‹©é…’é¦†ä¼™è®¡',
          msg: 'ğŸ¤” P...På¼Ÿï¼ŸåŸæ¥é…’é¦†ä¼™è®¡æ²¡æœ‰å¯¹è±¡å•Šï¼'
        },
        witheredGrass: {
          icon: 'ğŸŒ¾',
          name: 'ç”Ÿå‘½ä¸ºä½•è‡ªç§°æ¯è‰ï¼Ÿ',
          desc: 'è¿ç»­5æ¬¡ä¸é€‰æ‹©Adams',
          method: 'ç­”é¢˜æ—¶è¿ç»­5æ¬¡ä¸é€‰Adamså›¾ç‰‡',
          msg: 'ğŸŒ¾ è¿ç»­5æ¬¡æ²¡é€‰Adamsï¼Œç”Ÿå‘½ä¸ºä½•è‡ªç§°æ¯è‰ï¼Ÿ'
        },
        heLovesYou: {
          icon: 'â¤ï¸',
          name: 'ä»–è¯´ä»–çˆ±ä½ ã€‚',
          desc: 'æœå—é—®é¢˜ä¸­é€‰æ‹©ç¬¬4å¼ å›¾ç‰‡ï¼ˆimg4ï¼‰',
          method: 'å›ç­”"å¤§å¯Œå“¥æ˜¯å“ªä½ï¼Ÿ"æ—¶é€‰ç¬¬4ä¸ªé€‰é¡¹',
          msg: 'â¤ï¸ ä»–è¯´ä»–çˆ±ä½ ï¼ä½ åœ¨æœå—é—®é¢˜ä¸­é€‰äº†img4ï½'
        },
        goldCoin: {
          icon: 'ğŸ’°',
          name: 'çˆ†ç‚¹é‡‘å¸ï¼Ÿ',
          desc: 'ç¬¬ä¸€æ¬¡é€‰æ‹©æœå—å¹¶ç­”å¯¹',
          method: 'é¦–æ¬¡å›ç­”"å¤§å¯Œå“¥æ˜¯å“ªä½ï¼Ÿ"æ—¶é€‰å¯¹æœå—',
          msg: 'ğŸ’° çˆ†ç‚¹é‡‘å¸ï¼ä½ ç¬¬ä¸€æ¬¡é€‰å¯¹æœå—å•¦ï¼'
        },
        deepWaterCity: {
          icon: 'ğŸ™ï¸',
          name: 'æ·±æ°´åŸæ•…äº‹',
          desc: 'æ­£ç¡®å›ç­”"é€‰å‡ºçœŸçš„ä¸æ˜¯ç›´ç”·çš„äºº"',
          method: 'ç­”å¯¹"é€‰å‡ºçœŸçš„ä¸æ˜¯ç›´ç”·çš„äºº"é—®é¢˜',
          msg: 'ğŸ™ï¸ æ·±æ°´åŸæ•…äº‹è§£é”ï¼ä½ é€‰å‡ºäº†çœŸçš„ä¸æ˜¯ç›´ç”·çš„äººï½'
        },
        fashionIcon: {
          icon: 'ğŸ‘”',
          name: 'è¡£å“è¾¾äººâ¤ï¸',
          desc: 'ç‚¹å¼€æ–°æ·»åŠ çš„å¹¿å‘Š',
          method: 'ç‚¹å‡»"â™‚ç«çƒ­æ¢è£…â™‚"å¹¿å‘Šå¹¶æŸ¥çœ‹',
          msg: 'ğŸ‘” è¡£å“è¾¾äººï¼ä½ ç‚¹å¼€äº†æ–°å¹¿å‘Šï¼Œç©¿æ­çµæ„Ÿgetï½'
        },
        schiller: {
          icon: 'ğŸ­',
          name: 'Schiller.',
          desc: 'ç‚¹å¼€åŸæœ‰çš„å¹¿å‘Š',
          method: 'ç‚¹å‡»åŸæœ‰å¹¿å‘Šå¹¶æŸ¥çœ‹éšæœºå›¾',
          msg: 'ğŸ­ Schiller. ä½ ç‚¹å¼€äº†åŸæœ‰å¹¿å‘Šï¼Œè§£é”æ–‡è‰ºæˆå°±ï½'
        }
      };
      // åˆå¹¶åŸæœ‰æˆå°±ä¸æ–°æˆå°±
      const ACHIEVEMENTS = {ï»¿
        straight: {ï»¿
          icon: 'ğŸ’',ï»¿
          name: 'æˆ‘æ˜¯ç›´ç”·',ï»¿
          desc: 'å‹‡æ•¢æ‰¿è®¤è‡ªå·±çš„èº«ä»½',ï»¿
          method: 'é€‰æ‹©"æ‰¾å‡ºå›¾ä¸­çš„ç›´ç”·"é¢˜ç›®ä¸­çš„ç›´ç”·é€‰é¡¹',ï»¿
          msg: 'ğŸ’ ä½ é€‰æ‹©äº†ç›´ç”·é€‰é¡¹ï¼Œæœç„¶æ˜¯çº¯çº¯çš„â™‚ç›´ç”·ï¼'ï»¿
        },ï»¿
        gayPride: {ï»¿
          icon: 'ğŸŒˆ',ï»¿
          name: 'éª„å‚²ä¹‹GAY',ï»¿
          desc: 'ä¸ºè‡ªå·±çš„èº«ä»½æ„Ÿåˆ°éª„å‚²',ï»¿
          method: 'é€‰æ‹©"æ‰¾å‡ºå›¾ä¸­çš„ç›´ç”·"é¢˜ç›®ä¸­çš„GAYé€‰é¡¹',ï»¿
          msg: 'ğŸŒˆ éª„å‚²çš„GAYï¼ä¸ºä½ æ„Ÿåˆ°è‡ªè±ªï¼'ï»¿
        },ï»¿
        chef: {ï»¿
          icon: 'ğŸ‘¨â€ğŸ³',ï»¿
          name: 'ä½ æ˜¯é£Ÿæå—',ï»¿
          desc: 'æ‰¾åˆ°çœŸæ­£çš„å¨å¸ˆ',ï»¿
          method: 'æ­£ç¡®å›ç­”"æ‰¾å‡ºçœŸæ­£çš„å¨å¸ˆ"é¢˜ç›®',ï»¿
          msg: 'ğŸ‘¨â€ğŸ³ ä½ æ‰¾å‡ºäº†çœŸæ­£çš„å¨å¸ˆï¼Œå°å¿ƒè¢«åšæˆç¾é£Ÿå“¦ï¼'ï»¿
        },ï»¿
        therapist: {ï»¿
          icon: 'ğŸ§ ',ï»¿
          name: 'å¿ƒç†æ²»ç–—å¸ˆ',ï»¿
          desc: 'æ‰¾åˆ°å¤±å»çƒæ£çš„å¿ƒç†æ²»ç–—å¸ˆ',ï»¿
          method: 'æ­£ç¡®å›ç­”"æ‰¾å‡ºå¤±å»äº†çƒæ£çš„å¿ƒç†æ²»ç–—å¸ˆ"é¢˜ç›®',ï»¿
          msg: 'ğŸ§  æ‰¾åˆ°å¿ƒç†æ²»ç–—å¸ˆäº†ï¼éœ€è¦èŠèŠä½ çš„æ„Ÿæƒ…é—®é¢˜å—ï¼Ÿ'ï»¿
        },ï»¿
        maxScore: {ï»¿
          icon: 'ğŸ†',ï»¿
          name: 'å¤©é€‰ç”·åŒğŸŒˆ',ï»¿
          desc: 'è¾¾åˆ°æ»¡åˆ†100åˆ†',ï»¿
          method: 'åœ¨æ¸¸æˆä¸­è·å¾—100åˆ†',ï»¿
          msg: 'ğŸ† æ»¡åˆ†ï¼ä½ å°±æ˜¯å¤©é€‰ä¹‹å­ï¼Œç”·åŒä¹‹ç¥ï¼'ï»¿
        },ï»¿
        forgotWho: {ï»¿
          icon: 'â“',ï»¿
          name: 'å¥½åƒå¿˜äº†è°...',ï»¿
          desc: 'æ€»è§‰å¾—æ¼æ‰äº†ä»€ä¹ˆé‡è¦çš„äºº',ï»¿
          method: 'è¿ç»­4æ¬¡ä¸é€‰æ‹©img3.jpgå›¾ç‰‡',ï»¿
          msg: 'â“ è¿ç»­4æ¬¡æ²¡é€‰img3.jpgï¼Œä½ æ˜¯ä¸æ˜¯å¿˜äº†è°ï¼Ÿ'ï»¿
        },ï»¿
        forceful: {ï»¿
          icon: 'ğŸ”„',ï»¿
          name: 'å¼ºäººæ‰€éš¾â™‚',ï»¿
          desc: 'å¯¹æŸä¸ªé€‰é¡¹æœ‰ç€æ‰§ç€çš„åçˆ±',ï»¿
          method: 'è¿ç»­4æ¬¡é€‰æ‹©img1.jpgå›¾ç‰‡',ï»¿
          msg: 'ğŸ”„ è¿ç»­4æ¬¡é€‰img1.jpgï¼Œä½ è¿™æ˜¯å¼ºäººæ‰€éš¾å•Šï¼'ï»¿
        },ï»¿
        omg: {ï»¿
          icon: 'ğŸ˜±',ï»¿
          name: 'OMGâ™‚',ï»¿
          desc: 'ä½ å‘ç°äº†éšè—çš„ç§˜å¯†ï¼',ï»¿
          method: 'é‡ç½®æˆå°±æ—¶é€‰æ‹©"yeahâ™‚"é€‰é¡¹',ï»¿
          msg: 'ğŸ˜± OMGï¼ä½ å±…ç„¶å‘ç°äº†éšè—æˆå°±ï¼',ï»¿
          hidden: true // éšè—æˆå°±æ ‡è®°ï»¿
        },
        ...NEW_ACHIEVEMENTS // åŠ å…¥æ–°æˆå°±
      };ï»¿
      // ========== DOMå…ƒç´ è·å–ï¼ˆä¿ç•™åŸæœ‰ï¼Œæ–°å¢å¹¿å‘Šä¸ç­”é¢˜ç›¸å…³ï¼‰ ==========
      const gridEl = document.getElementById('grid');ï»¿
      const timerEl = document.getElementById('timer');ï»¿
      const scoreEl = document.getElementById('score');ï»¿
      const messageEl = document.getElementById('message');ï»¿
      const questionTextEl = document.getElementById('questionText');ï»¿
      const roundEl = document.getElementById('round');ï»¿
      const btnStart = document.getElementById('btnStart');ï»¿
      const btnRestart = document.getElementById('btnRestart');ï»¿
      const btnEndGame = document.getElementById('btnEndGame');ï»¿
      // æ–°å¢ï¼šå¹¿å‘Šå…ƒç´ 
      const originalAd = document.getElementById('originalAd');
      const originalAdCloseBtn = document.getElementById('originalAdCloseBtn');
      const originalAdCta = document.getElementById('originalAdCta');
      const newAd = document.getElementById('newAd');
      const newAdCloseBtn = document.getElementById('newAdCloseBtn');
      const newAdCta = document.getElementById('newAdCta');
      const adImgModal = document.getElementById('adImgModal');
      const adImgClose = document.getElementById('adImgClose');
      const adImgContent = document.getElementById('adImgContent');
      // åŸæœ‰å¹¿å‘Šå…³é—­æ¨¡æ€æ¡†
      const adCloseModal = document.getElementById('adCloseModal');ï»¿
      const btnAdOption1 = document.getElementById('btnAdOption1');ï»¿
      const btnAdOption2 = document.getElementById('btnAdOption2');ï»¿
      const btnAdOption3 = document.getElementById('btnAdOption3');ï»¿
      // // å¼¹çª—å…ƒç´ ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      const overlay = document.getElementById('overlay');ï»¿
      const scorePopup = document.getElementById('scorePopup');ï»¿
      const scorePopupIcon = document.getElementById('scorePopupIcon');ï»¿
      const scorePopupTitle = document.getElementById('scorePopupTitle');ï»¿
      const scorePopupDesc = document.getElementById('scorePopupDesc');ï»¿
      const scorePopupBtn = document.getElementById('scorePopupBtn');ï»¿
      const achievementPopup = document.getElementById('achievementPopup');ï»¿
      const achievementName = document.getElementById('achievementName');ï»¿
      const achievementDesc = document.getElementById('achievementDesc');ï»¿
      const achievementMsg = document.getElementById('achievementMsg');ï»¿
      const achievementPopupBtn = document.getElementById('achievementPopupBtn');ï»¿
      // ç»“æŸæ¸¸æˆç›¸å…³å¼¹çª—ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      const endGameConfirmPopup = document.getElementById('endGameConfirmPopup');ï»¿
      const btnConfirmEnd = document.getElementById('btnConfirmEnd');ï»¿
      const btnCancelEnd = document.getElementById('btnCancelEnd');ï»¿
      const endGameStatsPopup = document.getElementById('endGameStatsPopup');ï»¿
      const statsScore = document.getElementById('statsScore');ï»¿
      const statsRound = document.getElementById('statsRound');ï»¿
      const statsCorrect = document.getElementById('statsCorrect');ï»¿
      const statsWrong = document.getElementById('statsWrong');ï»¿
      const statsPopupBtn = document.getElementById('statsPopupBtn');ï»¿
      // é‡ç½®æˆå°±ç›¸å…³å¼¹çª—ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      const resetAchieveConfirmPopup = document.getElementById('resetAchieveConfirmPopup');ï»¿
      const btnConfirmReset = document.getElementById('btnConfirmReset');ï»¿
      const btnYeahReset = document.getElementById('btnYeahReset');ï»¿
      // æˆå°±å¢™å…ƒç´ ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      const btnAchievementWall = document.getElementById('btnAchievementWall');ï»¿
      const btnResetAchieve = document.getElementById('btnResetAchieve');ï»¿
      const achievementWall = document.getElementById('achievementWall');ï»¿
      const achievementWallClose = document.getElementById('achievementWallClose');ï»¿
      const achievementList = document.getElementById('achievementList');ï»¿
      // ========== æ¸¸æˆçŠ¶æ€ï¼ˆä¿ç•™åŸæœ‰ï¼Œæ–°å¢ç»Ÿè®¡å˜é‡ï¼‰ ==========
      let timeLeft = CONFIG.timeLimit;ï»¿
      let timer = null;ï»¿
      let score = 0;ï»¿
      let round = 0;ï»¿
      let currentQuestion = null;ï»¿
      let playable = false;ï»¿
      let gameActive = false;ï»¿
      // ç»Ÿè®¡æ•°æ®ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      let correctCount = 0;ï»¿
      let wrongCount = 0;ï»¿
      // è¿ç»­é€‰æ‹©è®¡æ•°ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      let consecutiveImg1Count = 0; // è¿ç»­é€‰img1.jpgï¼ˆç´¢å¼•0ï¼‰æ¬¡æ•°ï»¿
      let consecutiveNotImg3Count = 0; // è¿ç»­ä¸é€‰img3.jpgï¼ˆç´¢å¼•2ï¼‰æ¬¡æ•°ï»¿
      // æ–°å¢ï¼šç­”é¢˜ä¸æˆå°±ç»Ÿè®¡
      let currentAnswerImgs = []; // å½“å‰å…³å¡4å¼ å›¾ç‰‡ï¼ˆç´ æåï¼‰
      let currentImgIndexes = []; // å½“å‰å…³å¡å›¾ç‰‡å¯¹åº”çš„åŸå§‹ç´¢å¼•ï¼ˆç”¨äºåˆ¤æ–­img4ï¼‰
      // æˆå°±çŠ¶æ€ï¼ˆä»æœ¬åœ°å­˜å‚¨è¯»å–ï¼‰ï»¿
      let unlockedAchievements = new Set(JSON.parse(localStorage.getItem('unlockedAchievements')) || []);ï»¿
      let triggeredScorePopups = new Set(); // å·²è§¦å‘çš„åˆ†æ•°å¼¹çª—é›†åˆï»¿
// ========== åŸæœ‰æ–¹æ³•ä¿ç•™ï¼Œæ–°å¢/ä¿®æ”¹å…³é”®é€»è¾‘ ==========
      // åˆå§‹åŒ–æˆå°±å¢™ï¼ˆä¿ç•™åŸæœ‰ï¼Œé€‚é…æ–°æˆå°±ï¼‰ï»¿
      function initAchievementWall() {ï»¿
        achievementList.innerHTML = '';ï»¿
        Object.entries(ACHIEVEMENTS).forEach(([id, achievement]) => {ï»¿
          const isUnlocked = unlockedAchievements.has(id);ï»¿
          const achievementClass = `achievement-item ${isUnlocked ? '' : 'locked'} ${achievement.hidden ? 'hidden-achievement' : ''}`;ï»¿
          const achievementItem = document.createElement('div');ï»¿
          achievementItem.className = achievementClass;ï»¿
          achievementItem.innerHTML = `ï»¿
            <div class="achievement-item-icon">${achievement.icon}</div>ï»¿
            <div class="achievement-item-info">ï»¿
              <h3 class="achievement-item-name">${achievement.name}</h3>ï»¿
              <p class="achievement-item-desc">${achievement.desc}</p>ï»¿
              <span class="achievement-item-method">${achievement.method}</span>ï»¿
            </div>ï»¿
          `;ï»¿
          achievementList.appendChild(achievementItem);ï»¿
        });ï»¿
      }ï»¿
      // æ˜¾ç¤º/éšè—æˆå°±å¢™ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function toggleAchievementWall(show) {ï»¿
        if (show) {ï»¿
          achievementWall.classList.remove('hidden');ï»¿
          initAchievementWall();ï»¿
        } else {ï»¿
          achievementWall.classList.add('hidden');ï»¿
        }ï»¿
      }ï»¿
      // æ˜¾ç¤ºé€šç”¨å¼¹çª—ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function showPopup(popupEl) {ï»¿
        overlay.classList.add('show');ï»¿
        popupEl.classList.add('show');ï»¿
document.body.style.overflow = 'hidden';ï»¿
      }ï»¿
      // å…³é—­é€šç”¨å¼¹çª—ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function closePopup(popupEl) {ï»¿
        overlay.classList.remove('show');ï»¿
        popupEl.classList.remove('show');ï»¿
document.body.style.overflow = 'auto';ï»¿
      }ï»¿
      // æ˜¾ç¤ºåˆ†æ•°é‡Œç¨‹ç¢‘å¼¹çª—ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function showScorePopup(score) {ï»¿
        if (triggeredScorePopups.has(score)) return;ï»¿
        triggeredScorePopups.add(score);ï»¿
        if (score === 50) {ï»¿
          scorePopupIcon.textContent = 'ğŸ‰';ï»¿
          scorePopupTitle.textContent = 'å¤ªæ£’äº†ï¼';ï»¿
          scorePopupDesc.textContent = 'ä½ å·²ç»è·å¾—äº†50åˆ†ï¼ç¦»æ»¡åˆ†ä¸è¿œäº†ï¼';ï»¿
        } else if (score === CONFIG.maxScore) {ï»¿
          scorePopupIcon.textContent = 'ğŸ†';ï»¿
          scorePopupTitle.textContent = 'æ»¡åˆ†ï¼';ï»¿
          scorePopupDesc.textContent = 'ä½ è·å¾—äº†100åˆ†ï¼å¤©é€‰ç”·åŒéä½ è«å±ï¼';ï»¿
          unlockAchievement('maxScore');ï»¿
        }ï»¿
        showPopup(scorePopup);ï»¿
      }ï»¿
      // è§£é”æˆå°±ï¼ˆä¿ç•™åŸæœ‰ï¼Œé€‚é…æ–°æˆå°±ï¼‰ï»¿
      function unlockAchievement(achievementId) {ï»¿
        if (unlockedAchievements.has(achievementId)) return;ï»¿
        unlockedAchievements.add(achievementId);ï»¿
        localStorage.setItem('unlockedAchievements', JSON.stringify(Array.from(unlockedAchievements)));ï»¿
        const achievement = ACHIEVEMENTS[achievementId];ï»¿
        if (achievement) {ï»¿
          achievementName.textContent = achievement.name;ï»¿
          achievementDesc.textContent = achievement.desc;ï»¿
          achievementMsg.textContent = achievement.msg;ï»¿
          showPopup(achievementPopup);ï»¿
          initAchievementWall(); // æ›´æ–°æˆå°±å¢™æ˜¾ç¤ºï»¿
        }ï»¿
      }ï»¿
      // é‡ç½®æˆå°±ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function resetAchievements() {ï»¿
        unlockedAchievements.clear();ï»¿
        localStorage.removeItem('unlockedAchievements');ï»¿
        // é‡ç½®æˆå°±ç»Ÿè®¡å˜é‡
        NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;
        NEW_CONFIG.achievementStats.firstChooseChaonan = false;
        NEW_CONFIG.achievementStats.hasGotPBrother = false;
        initAchievementWall();ï»¿
        showMessage('æˆå°±å·²é‡ç½®', 'win');ï»¿
      }ï»¿
      // ========== æ–°å¢ï¼šéšæœºç”Ÿæˆ4å¼ ç­”é¢˜å›¾ç‰‡ï¼ˆå«æ­£ç¡®ç­”æ¡ˆï¼‰ ==========
      function getRandom4AnswerImgs(correctVal) {
        // 1. è·å–æ‰€æœ‰ç­”é¢˜ç´ æåï¼ˆæ–°å¢+åŸæœ‰ï¼‰
        const allAnswerNames = [
          ...Object.keys(NEW_CONFIG.newAnswerImages),
          'img1', 'img2', 'img3', 'img4' // åŸæœ‰å›¾ç‰‡ç´ æåï¼ˆå¯¹åº”img1.jpgç­‰ï¼‰
        ];
        // 2. è¿‡æ»¤æ­£ç¡®ç­”æ¡ˆï¼Œéšæœºé€‰3ä¸ªå…¶ä»–ç´ æ
        const otherNames = allAnswerNames.filter(name => name !== correctVal);
        const shuffledOthers = [...otherNames].sort(() => Math.random() - 0.5);
        const selectedOthers = shuffledOthers.slice(0, 3);
        // 3. åˆå¹¶æ­£ç¡®ç­”æ¡ˆå¹¶æ‰“ä¹±é¡ºåºï¼Œå¾—åˆ°4ä¸ªç´ æå
        const finalNames = [...selectedOthers, correctVal].sort(() => Math.random() - 0.5);
        // 4. ç”Ÿæˆç´ æåå¯¹åº”çš„å›¾ç‰‡è·¯å¾„
        const finalImgs = finalNames.map(name => {
          // æ–°å¢ç´ æç”¨é…ç½®è·¯å¾„ï¼ŒåŸæœ‰ç´ æç”¨é»˜è®¤è·¯å¾„
          if (NEW_CONFIG.newAnswerImages[name]) {
            return NEW_CONFIG.newAnswerImages[name];
          } else {
            return `${name}.jpg`;
          }
        });
        // è¿”å›ï¼š4å¼ å›¾è·¯å¾„ + 4ä¸ªç´ æåï¼ˆç”¨äºåˆ¤æ–­ç­”æ¡ˆï¼‰ + 4ä¸ªç´¢å¼•ï¼ˆç”¨äºåˆ¤æ–­img4ï¼‰
        return {
          imgs: finalImgs,
          names: finalNames,
          indexes: [1, 2, 3, 4].sort(() => Math.random() - 0.5) // éšæœºåˆ†é…1-4ç´¢å¼•
        };
      }ï»¿
      // æ¸²æŸ“æ¸¸æˆç½‘æ ¼ï¼ˆä¿®æ”¹ï¼šé€‚é…éšæœº4å¼ ç­”é¢˜å›¾ï¼‰ï»¿
      function renderGrid() {ï»¿
        gridEl.innerHTML = '';ï»¿
        // æ¸…ç©ºå½“å‰å›¾ç‰‡è®°å½•
        currentAnswerImgs = [];
        currentImgIndexes = [];
        
        // åˆ¤æ–­å½“å‰é¢˜ç›®ç±»å‹ï¼Œç”Ÿæˆå¯¹åº”4å¼ å›¾
        let finalImgs = [];
        if (currentQuestion.type === 'single' && currentQuestion.correctVal) {
          // æ–°é¢˜ç›®ï¼šæŒ‰æ­£ç¡®ç´ æåç”Ÿæˆ4å¼ å›¾
          const { imgs, names, indexes } = getRandom4AnswerImgs(currentQuestion.correctVal);
          finalImgs = imgs;
          currentAnswerImgs = names; // è®°å½•å½“å‰4å¼ å›¾çš„ç´ æå
          currentImgIndexes = indexes; // è®°å½•å½“å‰4å¼ å›¾çš„ç´¢å¼•ï¼ˆ1-4ï¼‰
        } else {
          // åŸæœ‰é¢˜ç›®ï¼šæŒ‰åŸæœ‰é€»è¾‘æ‰“ä¹±
          const { arr: shuffledImgs, indexes: originalIndexes } = shuffleArr(CONFIG.images);
          finalImgs = shuffledImgs;
          currentImgIndexes = originalIndexes;
        }
        
        // æ¸²æŸ“4å¼ å›¾ç‰‡
        finalImgs.forEach((imgSrc, i) => {ï»¿
          const cell = document.createElement('div');ï»¿
          cell.className = 'cell';ï»¿
          // è®°å½•ç´ æåå’Œç´¢å¼•ï¼ˆç”¨äºåˆ¤æ–­ç­”æ¡ˆå’Œæˆå°±ï¼‰
          cell.setAttribute('data-img-name', currentAnswerImgs[i] || `img${currentImgIndexes[i]+1}`);
          cell.setAttribute('data-img-index', currentImgIndexes[i] || (i+1));
          
          const img = document.createElement('img');ï»¿
          img.src = imgSrc;ï»¿
          img.alt = `é€‰é¡¹${i+1}`;ï»¿
          cell.appendChild(img);ï»¿
          // æ‰‹æœºç«¯è§¦æ‘¸ä¼˜å…ˆï»¿
          cell.ontouchend = (e) => {ï»¿
            e.preventDefault();ï»¿
            handleCellClick(cell);ï»¿
          };ï»¿
          cell.onclick = () => handleCellClick(cell);ï»¿
          gridEl.appendChild(cell);ï»¿
        });ï»¿
      }ï»¿
      // éšæœºæ‰“ä¹±æ•°ç»„ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function shuffleArr(arr) {ï»¿
        const newArr = [...arr];ï»¿
        const indexes = [...arr.keys()]; ï»¿
        for (let i = newArr.length - 1; i > 0; i--) {ï»¿
          const j = Math.floor(Math.random() * (i + 1));ï»¿
          [newArr[i], newArr[j]] = [newArr[j], newArr[i]];ï»¿
          [indexes[i], indexes[j]] = [indexes[j], indexes[i]];ï»¿
        }ï»¿
        return { arr: newArr, indexes };ï»¿
      }ï»¿
      // å¼€å§‹æ–°ä¸€è½®ï¼ˆä¿ç•™åŸæœ‰ï¼Œé€‚é…æ–°é¢˜ç›®ï¼‰ï»¿
      function startRound() {ï»¿
        if (timer) clearInterval(timer);ï»¿
        timeLeft = CONFIG.timeLimit;ï»¿
        timerEl.textContent = `${timeLeft}s`;ï»¿
        round++;ï»¿
        roundEl.textContent = round;ï»¿
        // éšæœºé€‰ä¸€ä¸ªé¢˜ç›®ï¼ˆå«æ–°é¢˜ç›®ï¼‰
        currentQuestion = QUESTIONS[Math.floor(Math.random() * QUESTIONS.length)];ï»¿
        questionTextEl.textContent = currentQuestion.text;ï»¿
        renderGrid();ï»¿
        playable = true;ï»¿
        showMessage('', '');ï»¿
        timer = setInterval(() => {ï»¿
          timeLeft--;ï»¿
          timerEl.textContent = `${timeLeft}s`;ï»¿
          if (timeLeft<= 0) {ï»¿
            clearInterval(timer);ï»¿
            playable = false;ï»¿
            wrongCount++;ï»¿
            showMessage('æ‚é±¼ æ…¢æ­»äº†', 'lose');ï»¿
            // é‡ç½®è¿ç»­è®¡æ•°ï»¿
            consecutiveImg1Count = 0;ï»¿
            consecutiveNotImg3Count = 0;
            NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;ï»¿
            setTimeout(() => gameActive&&startRound(), 1000);ï»¿
          }ï»¿
        }, 1000);ï»¿
      }ï»¿
      // ========== ä¿®æ”¹ï¼šå¤„ç†å•å…ƒæ ¼ç‚¹å‡»ï¼ˆæ–°å¢æˆå°±è§£é”é€»è¾‘ï¼‰ ==========
      function handleCellClick(cell) {ï»¿
        if (!playable) return;ï»¿
        playable = false;ï»¿
        clearInterval(timer);ï»¿
        // è·å–å½“å‰é€‰æ‹©çš„ç´ æåå’Œç´¢å¼•
        const selectedName = cell.getAttribute('data-img-name');
        const selectedIndex = Number(cell.getAttribute('data-img-index'));
        const res = currentQuestion.onSelect ? currentQuestion.onSelect(selectedIndex) : null;ï»¿
        
        // ========== æ–°å¢ï¼šæˆå°±è§£é”æ ¸å¿ƒé€»è¾‘ ==========
        // 1. "P...På¼Ÿï¼Ÿ"ï¼šé…’é¦†ä¼™è®¡é—®é¢˜ä¸­é€‰æ‹©é…’é¦†ä¼™è®¡
        if (currentQuestion.id === 5 && selectedName === 'é…’é¦†ä¼™è®¡' && !NEW_CONFIG.achievementStats.hasGotPBrother) {
          unlockAchievement('pBrother');
          NEW_CONFIG.achievementStats.hasGotPBrother = true;
        }
        
        // 2. "ç”Ÿå‘½ä¸ºä½•è‡ªç§°æ¯è‰ï¼Ÿ"ï¼šè¿ç»­5æ¬¡ä¸é€‰Adams
        if (selectedName !== 'Adams') {
          NEW_CONFIG.achievementStats.consecutiveNotAdams++;
          if (NEW_CONFIG.achievementStats.consecutiveNotAdams >= 5) {
            unlockAchievement('witheredGrass');
            NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;
          }
        } else {
          NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;
        }
        
        // 3. "ä»–è¯´ä»–çˆ±ä½ ã€‚"ï¼šæœå—é—®é¢˜ä¸­é€‰æ‹©img4
        if (currentQuestion.id === 7 && selectedIndex === 4) {
          unlockAchievement('heLovesYou');
        }
        
        // 4. "çˆ†ç‚¹é‡‘å¸ï¼Ÿ"ï¼šç¬¬ä¸€æ¬¡é€‰å¯¹æœå—
        if (currentQuestion.id === 7 && selectedName === 'æœå—' && !NEW_CONFIG.achievementStats.firstChooseChaonan) {
          unlockAchievement('goldCoin');
          NEW_CONFIG.achievementStats.firstChooseChaonan = true;
        }
        
        // 5. "æ·±æ°´åŸæ•…äº‹"ï¼šç­”å¯¹å®‹çš„é—®é¢˜
        if (currentQuestion.id === 6 && selectedName === 'å®‹') {
          unlockAchievement('deepWaterCity');
        }
        
        // ========== åŸæœ‰ç­”é¢˜é€»è¾‘ä¿ç•™ï¼Œé€‚é…æ–°é¢˜ç›® ==========
        // æ»¡åˆ†æç¤ºé€»è¾‘ï»¿
        if (score >= CONFIG.maxScore) {ï»¿
          showMessage('å·²ç»...æé™äº†â™‚â™‚â™‚', 'limit');ï»¿
          if (!scorePopup.classList.contains('show')&&!achievementPopup.classList.contains('show')&&!endGameConfirmPopup.classList.contains('show')) {ï»¿
            setTimeout(() => gameActive&&startRound(), 1000);ï»¿
          }ï»¿
          return;ï»¿
        }ï»¿
        
        // ç­”é¢˜ç»“æœé€»è¾‘ï¼ˆåŒºåˆ†æ–°é¢˜ç›®ä¸åŸæœ‰é¢˜ç›®ï¼‰
        let isCorrect = false;
        let resultMsg = '';
        if (currentQuestion.type === 'single') {
          // æ–°é¢˜ç›®ï¼šæŒ‰ç´ æååˆ¤æ–­æ­£ç¡®
          if (currentQuestion.correctVal) {
            isCorrect = selectedName === currentQuestion.correctVal;
            resultMsg = isCorrect ? currentQuestion.correctText : currentQuestion.wrongText;
          } 
          // åŸæœ‰é¢˜ç›®ï¼šæŒ‰ç´¢å¼•åˆ¤æ–­æ­£ç¡®
          else {
            isCorrect = selectedIndex - 1 === currentQuestion.correctIdx;
            resultMsg = isCorrect ? currentQuestion.onCorrect : currentQuestion.onWrong;
          }
          
          // å¤„ç†åˆ†æ•°å’Œç»Ÿè®¡
          if (isCorrect) {
            correctCount++;
            score += CONFIG.pointsPerCorrect;
            if (score > CONFIG.maxScore) score = CONFIG.maxScore;
            scoreEl.textContent = score;
            showMessage(resultMsg, 'win');
            // è§¦å‘åˆ†æ•°å¼¹çª—
            if (score === 50 || score === CONFIG.maxScore) {
              showScorePopup(score);
            }
            // è§£é”é¢˜ç›®å…³è”æˆå°±ï¼ˆåŸæœ‰é€»è¾‘ï¼‰
            if (currentQuestion.achievement) {
              unlockAchievement(currentQuestion.achievement);
            }
          } else {
            wrongCount++;
            showMessage(resultMsg, 'lose');
            // é‡ç½®è¿ç»­è®¡æ•°
            if (!scorePopup.classList.contains('show')&&!achievementPopup.classList.contains('show')&&!endGameConfirmPopup.classList.contains('show')) {
              consecutiveImg1Count = 0;
              consecutiveNotImg3Count = 0;
              NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;
            }
          }
        } else if (res) {ï»¿
          // åŸæœ‰ç‰¹æ®Šé¢˜ç›®é€»è¾‘
          if (res.ok) {ï»¿
            correctCount++;ï»¿
            showMessage(res.msg, 'win');ï»¿
            score += CONFIG.pointsPerCorrect;ï»¿
            if (score > CONFIG.maxScore) score = CONFIG.maxScore;ï»¿
            scoreEl.textContent = score;ï»¿
            if (score === 50 || score === CONFIG.maxScore) {ï»¿
              showScorePopup(score);ï»¿
            }ï»¿
          } else {ï»¿
            wrongCount++;ï»¿
            showMessage(res.msg, 'lose');ï»¿
            if (!scorePopup.classList.contains('show')&&!achievementPopup.classList.contains('show')&&!endGameConfirmPopup.classList.contains('show')) {ï»¿
              consecutiveImg1Count = 0;ï»¿
              consecutiveNotImg3Count = 0;
              NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;ï»¿
            }ï»¿
          }ï»¿
        }ï»¿
        
        // å¼¹çª—æ˜¾ç¤ºæ—¶ä¸è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€è½®ï»¿
        if (!scorePopup.classList.contains('show')&&!achievementPopup.classList.contains('show')&&!endGameConfirmPopup.classList.contains('show')) {ï»¿
          setTimeout(() => gameActive&&startRound(), 1000);ï»¿
        }ï»¿
      }ï»¿
      // æ˜¾ç¤ºæ¸¸æˆæ¶ˆæ¯ï¼ˆä¿ç•™åŸæœ‰ï¼‰ï»¿
      function showMessage(text, type) {ï»¿
        messageEl.textContent = text;ï»¿
        messageEl.className = 'message';ï»¿
        if (type === 'win') messageEl.classList.add('win');ï»¿
        else if (type === 'lose') messageEl.classList.add('lose');ï»¿
        else if (type === 'limit') messageEl.classList.add('limit');ï»¿
      }ï»¿
      // é‡ç½®æ¸¸æˆï¼ˆä¿ç•™åŸæœ‰ï¼Œæ–°å¢æˆå°±ç»Ÿè®¡é‡ç½®ï¼‰ï»¿
      function resetGame() {ï»¿
        if (timer) clearInterval(timer);ï»¿
        score = 0;ï»¿
        round = 0;ï»¿
        timeLeft = CONFIG.timeLimit;ï»¿
        correctCount = 0;ï»¿
        wrongCount = 0;ï»¿
        consecutiveImg1Count = 0;ï»¿
        consecutiveNotImg3Count = 0;
        // é‡ç½®æ–°å¢æˆå°±ç»Ÿè®¡
        NEW_CONFIG.achievementStats.consecutiveNotAdams = 0;
        NEW_CONFIG.achievementStats.firstChooseChaonan = false;
        NEW_CONFIG.achievementStats.hasGotPBrother = false;
        
        timerEl.textContent = '--';ï»¿
        scoreEl.textContent = '0';ï»¿
        roundEl.textContent = 'â€”';ï»¿
        gridEl.innerHTML = '';ï»¿
        showMessage('ç‚¹å‡»"å¼€å§‹â™‚æ¸¸æˆ"å¼€å§‹æŒ‘æˆ˜', '');ï»¿
btnEndGame.style.display = 'none';ï»¿
btnAchievementWall.style.display = 'inline-block';ï»¿
btnResetAchieve.style.display = 'inline-block';ï»¿
        gameActive = false;ï»¿
        triggeredScorePopups.clear();ï»¿
        // å…³é—­æ‰€æœ‰å¼¹çª—ï»¿
        closePopup(scorePopup);ï»¿
        closePopup(achievementPopup);ï»¿
        closePopup(endGameConfirmPopup);ï»¿
        closePopup(endGameStatsPopup);ï»¿
        closePopup(resetAchieveConfirmPopup);ï»¿
        toggleAchievementWall(false);ï»¿
        // å…³é—­å¹¿å‘Šå¼¹çª—
        adImgModal.classList.remove('show');
      }ï»¿
      // ========== æ–°å¢ï¼šå¹¿å‘Šå¼¹çª—é€»è¾‘ï¼ˆéšæœºæ˜¾ç¤ºå¹¿å‘Šå›¾ï¼‰ ==========
      // æ˜¾ç¤ºéšæœºå¹¿å‘Šå›¾
      function showRandomAdImg(adImgArr, achievementId) {
        // éšæœºé€‰1å¼ å›¾
        const randomIdx = Math.floor(Math.random() * adImgArr.length);
        const randomImg = adImgArr[randomIdx];
        // æ’å…¥å¹¿å‘Šå›¾
        adImgContent.innerHTML = `<img src="${randomImg}" alt="éšæœºå¹¿å‘Šå›¾">`;
        // æ˜¾ç¤ºå¼¹çª—
        adImgModal.classList.add('show');
        // è§£é”å¹¿å‘Šæˆå°±
        unlockAchievement(achievementId);
      }
      // åŸæœ‰å¹¿å‘Šå…³é—­é€»è¾‘ï¼ˆä¿®æ”¹ï¼šé€‚é…æ–°å¹¿å‘Šå¼¹çª—ï¼‰
      function closeAdWithInsult() {ï»¿
        showMessage('æ”¾ä½ çš„å±ã€‚', 'lose');ï»¿
        adCloseModal.classList.remove('show');ï»¿
        originalAd.style.display = 'none';ï»¿
      }ï»¿
      function closeAdWithTaunt() {ï»¿
        showMessage('ä½ ç…å•¥ï¼Ÿ', 'lose');ï»¿
        adCloseModal.classList.remove('show');ï»¿
        originalAd.style.display = 'none';ï»¿
      }ï»¿
      // æ–°å¹¿å‘Šå…³é—­é€»è¾‘
      function closeNewAd() {
        showMessage('ä¸‹æ¬¡è®°å¾—æ¥çœ‹å“¦ï½', 'lose');
        newAd.style.display = 'none';
      }
// ========== äº‹ä»¶ç»‘å®šï¼ˆä¿ç•™åŸæœ‰ï¼Œæ–°å¢å¹¿å‘Šç›¸å…³ï¼‰ ==========
      // åŸæœ‰å¼€å§‹/é‡ç½®/ç»“æŸæ¸¸æˆäº‹ä»¶ï¼ˆä¿ç•™ï¼‰ï»¿
      btnStart.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        gameActive = true;ï»¿
btnEndGame.style.display = 'inline-block';ï»¿
btnAchievementWall.style.display = 'none';ï»¿
btnResetAchieve.style.display = 'none';ï»¿
        startRound();ï»¿
      };ï»¿
      btnStart.onclick = () => {ï»¿
        gameActive = true;ï»¿
btnEndGame.style.display = 'inline-block';ï»¿
btnAchievementWall.style.display = 'none';ï»¿
btnResetAchieve.style.display = 'none';ï»¿
        startRound();ï»¿
      };ï»¿
      btnRestart.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        resetGame();ï»¿
      };ï»¿
      btnRestart.onclick = resetGame;ï»¿
      btnEndGame.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        showEndGameConfirm();ï»¿
      };ï»¿
      btnEndGame.onclick = showEndGameConfirm;ï»¿
      // ç»“æŸæ¸¸æˆç›¸å…³äº‹ä»¶ï¼ˆä¿ç•™ï¼‰ï»¿
      btnConfirmEnd.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        confirmEndGame();ï»¿
      };ï»¿
      btnConfirmEnd.onclick = confirmEndGame;ï»¿
      btnCancelEnd.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        cancelEndGame();ï»¿
      };ï»¿
      btnCancelEnd.onclick = cancelEndGame;ï»¿
      statsPopupBtn.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        closePopup(endGameStatsPopup);ï»¿
        resetGame();ï»¿
      };ï»¿
      statsPopupBtn.onclick = () => {ï»¿
        closePopup(endGameStatsPopup);ï»¿
        resetGame();ï»¿
      };ï»¿
      // é‡ç½®æˆå°±ç›¸å…³äº‹ä»¶ï¼ˆä¿ç•™ï¼‰ï»¿
      btnResetAchieve.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        showResetAchieveConfirm();ï»¿
      };ï»¿
      btnResetAchieve.onclick = showResetAchieveConfirm;ï»¿
      btnConfirmReset.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        confirmResetAchieve();ï»¿
      };ï»¿
      btnConfirmReset.onclick = confirmResetAchieve;ï»¿
      btnYeahReset.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        yeahResetAchieve();ï»¿
      };ï»¿
      btnYeahReset.onclick = yeahResetAchieve;ï»¿
      // åŸæœ‰å¹¿å‘Šå…³é—­æ¨¡æ€æ¡†äº‹ä»¶ï¼ˆä¿ç•™ï¼‰ï»¿
      btnAdOption1.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        // æ‰“å¼€åŸæœ‰å¹¿å‘Šéšæœºå›¾
        showRandomAdImg(NEW_CONFIG.adMaterials.originalAdImgs, 'schiller');
        adCloseModal.classList.remove('show');ï»¿
      };ï»¿
      btnAdOption1.onclick = () => {
        showRandomAdImg(NEW_CONFIG.adMaterials.originalAdImgs, 'schiller');
        adCloseModal.classList.remove('show');
      };ï»¿
      btnAdOption2.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        closeAdWithInsult();ï»¿
      };ï»¿
      btnAdOption2.onclick = closeAdWithInsult;ï»¿
      btnAdOption3.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        closeAdWithTaunt();ï»¿
      };ï»¿
      btnAdOption3.onclick = closeAdWithTaunt;ï»¿
      // åŸæœ‰å¹¿å‘Šç‚¹å‡»äº‹ä»¶ï¼ˆä¿®æ”¹ï¼šæ‰“å¼€å¹¿å‘Šå¼¹çª—ï¼‰
      originalAdCloseBtn.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        adCloseModal.classList.add('show');ï»¿
      };ï»¿
      originalAdCloseBtn.onclick = () => adCloseModal.classList.add('show');ï»¿
      originalAdCta.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        // æ‰“å¼€åŸæœ‰å¹¿å‘Šéšæœºå›¾
        showRandomAdImg(NEW_CONFIG.adMaterials.originalAdImgs, 'schiller');
      };ï»¿
      originalAdCta.onclick = () => {
        showRandomAdImg(NEW_CONFIG.adMaterials.originalAdImgs, 'schiller');
      };ï»¿
      // æ–°å¢ï¼šæ–°å¹¿å‘Šç‚¹å‡»äº‹ä»¶
      newAdCloseBtn.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        closeNewAd();ï»¿
      };ï»¿
      newAdCloseBtn.onclick = closeNewAd;ï»¿
      newAdCta.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        // æ‰“å¼€æ–°å¹¿å‘Šéšæœºå›¾
        showRandomAdImg(NEW_CONFIG.adMaterials.newAdImgs, 'fashionIcon');
      };ï»¿
      newAdCta.onclick = () => {
        showRandomAdImg(NEW_CONFIG.adMaterials.newAdImgs, 'fashionIcon');
      };ï»¿
      // æ–°å¢ï¼šå¹¿å‘Šå›¾ç‰‡å¼¹çª—å…³é—­äº‹ä»¶
      adImgClose.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        adImgModal.classList.remove('show');ï»¿
      };ï»¿
      adImgClose.onclick = () => adImgModal.classList.remove('show');ï»¿
      adImgModal.ontouchend = (e) => {ï»¿
        if (e.target === adImgModal) adImgModal.classList.remove('show');ï»¿
      };ï»¿
      adImgModal.onclick = (e) => {ï»¿
        if (e.target === adImgModal) adImgModal.classList.remove('show');ï»¿
      };ï»¿
      // åˆ†æ•°å¼¹çª—/æˆå°±å¼¹çª—å…³é—­äº‹ä»¶ï¼ˆä¿ç•™ï¼‰ï»¿
      scorePopupBtn.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        closePopup(scorePopup);ï»¿
        if (gameActive) {ï»¿
          setTimeout(() => startRound(), 300);ï»¿
        }ï»¿
      };ï»¿
      scorePopupBtn.onclick = () => {ï»¿
        closePopup(scorePopup);ï»¿
        if (gameActive) {ï»¿
          setTimeout(() => startRound(), 300);ï»¿
        }ï»¿
      };ï»¿
      achievementPopupBtn.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        closePopup(achievementPopup);ï»¿
        if (gameActive) {ï»¿
          setTimeout(() => startRound(), 300);ï»¿
        }ï»¿
      };ï»¿
      achievementPopupBtn.onclick = () => {ï»¿
        closePopup(achievementPopup);ï»¿
        if (gameActive) {ï»¿
          setTimeout(() => startRound(), 300);ï»¿
        }ï»¿
      };ï»¿
      // æˆå°±å¢™äº‹ä»¶ï¼ˆä¿ç•™ï¼‰ï»¿
      btnAchievementWall.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        toggleAchievementWall(true);ï»¿
      };ï»¿
      btnAchievementWall.onclick = () => toggleAchievementWall(true);ï»¿
      achievementWallClose.ontouchend = (e) => {ï»¿
        e.preventDefault();ï»¿
        toggleAchievementWall(false);ï»¿
      };ï»¿
      achievementWallClose.onclick = () => toggleAchievementWall(false);ï»¿
      adCloseModal.ontouchend = (e) => {ï»¿
        if (e.target === adCloseModal) adCloseModal.classList.remove('show');ï»¿
      };ï»¿
      adCloseModal.onclick = (e) => {ï»¿
        if (e.target === adCloseModal) adCloseModal.classList.remove('show');ï»¿
      };ï»¿
      // åˆå§‹åŒ–ï»¿
      resetGame();ï»¿
      initAchievementWall();ï»¿
    };ï»¿
  </script>ï»¿
</body>ï»¿
</html>